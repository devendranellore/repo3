<div id="user-activity-report" class="reports" ng-if="!showPrint">
    <div ng-include="'partials/reports/modalError.html'"></div>
    <div ng-show="showLoader || LoadError" class="loader-box">
        <i class="fa fa-spinner fa-pulse fa-3x fa-fw r-loader"></i>
        <div ng-if="alertType.archiveConfirmation">
            <div  ng-include="'partials/shared/alertWithArchive.html'"></div>
        </div>
        <div ng-if="alertType.confirmation">
            <div ng-if="alertType.show" ng-include="'partials/shared/alertWithConfirmation.html'"></div>
        </div>
        <div ng-if="!alertType.confirmation">
            <div ng-if="alertType.show" ng-include="'partials/shared/alert.html'"></div>
        </div>
    </div>
    <div class="report-params">
        <div class="edits">
            <label>User Activity Report</label>
            <form name="reportForm" autocomplete="off">
                <div class="overflow-visible">
                    <div class="form-line">
                        <div class="col-sm-3" ng-mouseleave="showList('hide')">
                            <label>
                                User Name
                            </label>
                            <span class="input-select">
                                <input id="report_user_name_input" type="text" ng-change="repData.userName && getAutoCompleteData('userNames','userName')" ng-click="showList('userName')" class="form-control well-li" data-readonly="true" ng-model="repData.userName" ng-trim="false"/><span class="droplist-arrow caret" ng-click="showList('userName')" ng-if="metaRepData.userName.length"></span>
                                <ul ng-show="visibility.userName" class="dropOptions deviceType">
                                    <li ng-if="wait">Please wait a moment...</li>
                                    <li ng-click="clear('userName')" ng-if="metaRepData.userName.length"><span>&nbsp;</span></li>
                                    <li ng-click="updateType('userName', repMetaObj)" ng-repeat="repMetaObj in metaRepData.userName">{{repMetaObj.displayName}}</li>
                                </ul>
                            </span>
                        </div>
                        <div class="col-sm-3" ng-mouseleave="showList('hide')">
                            <label>
                                Email Address
                            </label>
                            <span class="input-select">
                                <input id="report_email_address_input" type="text" ng-change="repData.emailAddress && getAutoCompleteData('emailAddress', 'emailAddress')" ng-click="showList('emailAddress')" class="form-control well-li" ng-model="repData.emailAddress" ng-trim="false"/><span class="droplist-arrow caret" ng-click="showList('emailAddress')" ng-if="metaRepData.emailAddress.length"></span>
                                <ul ng-show="visibility.emailAddress" class="dropOptions deviceType">
                                    <li ng-if="wait">Please wait a moment...</li>
                                    <li ng-click="clear('emailAddress')" ng-if="metaRepData.emailAddress.length"><span>&nbsp;</span></li>
                                    <li class="well-li" ng-click="updateType('emailAddress', repMetaObj)" ng-repeat="repMetaObj in metaRepData.emailAddress">{{repMetaObj.displayName}}</li>
                                </ul>
                            </span>
                        </div>
                        <div class="col-sm-3" ng-mouseleave="showList('hide')">
                            <label>
                                Medtronic Employee
                            </label>
                            <span class="input-select">
                                <span id="report_medtronic_employee_input" class="form-control well-li" ng-model="repData.medtronicEmployee" ng-click="showList('medtronicEmployee')">{{repData.medtronicEmployee}}<span class="droplist-arrow caret" ng-if="metaRepData.medtronicEmployee.length"></span></span>
                                <ul ng-show="visibility.medtronicEmployee" class="dropOptions deviceType">
                                    <li ng-click="clear('medtronicEmployee')" ng-if="metaRepData.medtronicEmployee.length"><span>&nbsp;</span></li>
                                    <li class="well-li" ng-click="updateType('medtronicEmployee', repMetaObj)" ng-repeat="repMetaObj in metaRepData.medtronicEmployee">{{repMetaObj.displayName}}</li>
                                </ul>
                            </span>
                        </div>
                        <div class="col-sm-3" ng-mouseleave="showList('hide')">
                            <label>
                                User Role
                            </label>
                            <span class="input-select">
                                <span id="report_device_type_input" class="form-control well-li" ng-model="repData.userRole" ng-click="showList('userRole')">{{repData.userRole}}<span class="droplist-arrow caret" ng-if="metaRepData.userRole.length && repData.medtronicEmployee"></span></span>
                                <ul ng-show="visibility.userRole && repData.medtronicEmployee" class="dropOptions deviceType">
                                    <li ng-click="clear('userRole')" ng-if="metaRepData.userRole.length"><span>&nbsp;</span></li>
                                    <li class="well-li" ng-click="updateType('userRole', repMetaObj)" ng-repeat="repMetaObj in metaRepData.userRole" ng-if="repMetaObj.employee === isEmp">
                                        {{repMetaObj.displayName}}
                                    </li>
                                </ul>
                            </span>
                        </div>
                    </div>
                    <div class="form-line">
                        <div class="col-sm-3" ng-mouseleave="showList('hide')">
                            <label>
                                Customer Name
                            </label>
                            <span class="input-select">
                                <input id="report_customer_name_input" type="text" ng-change="repData.customerName && getAutoCompleteData('customerNames', 'customerName')" ng-click="showList('customerName')" class="form-control well-li" ng-model="repData.customerName" ng-trim="false"/><span class="droplist-arrow caret" ng-click="showList('customerName')" ng-if="metaRepData.customerName.length"></span>
                                <ul ng-show="visibility.customerName" class="dropOptions deviceType">
                                    <li ng-if="wait">Please wait a moment...</li>
                                    <li ng-click="clear('customerName')" ng-if="metaRepData.customerName.length"><span>&nbsp;</span></li>
                                    <li class="well-li" ng-click="updateType('customerName', repMetaObj)" ng-repeat="repMetaObj in metaRepData.customerName">{{repMetaObj.displayName}}</li>
                                </ul>
                            </span>
                        </div>
                        <div class="col-sm-3" ng-mouseleave="showList('hide')">
                            <label>
                                Customer Account
                            </label>
                            <span class="input-select">
                                <input id="report_cname_input" type="text" ng-change="repData.customerAccount && getAutoCompleteData('customerAccount', 'customerAccount')" ng-click="showList('customerAccount')" class="form-control well-li" ng-model="repData.customerAccount" ng-trim="false"/><span class="droplist-arrow caret" ng-click="showList('customerAccount')" ng-if="metaRepData.customerAccount.length"></span>
                                <ul ng-show="visibility.customerAccount" class="dropOptions deviceType">
                                    <li ng-if="wait">Please wait a moment...</li>
                                    <li ng-click="clear('customerAccount')" ng-if="metaRepData.customerAccount.length"><span>&nbsp;</span></li>
                                    <li class="well-li" ng-click="updateType('customerAccount', repMetaObj)" ng-repeat="repMetaObj in metaRepData.customerAccount">{{repMetaObj.displayName}}</li>
                                </ul>
                            </span>
                        </div>
                        <div ng-include="'partials/reports/viewReport.html'"></div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div ng-show="showReportData">
        <div class="table-box scroll">
            <div ng-include="'partials/reports/header.html'"></div>
            <table ng-hide="dataRepError" class="table table-condensed table-hover table-modal table-sorting role-table header-line-top">
                <thead>
                    <tr>
                        <th ng-repeat="(colKey,col) in reportDetails.columns" ng-class="sortCol[col.column].cssClass" ng-click="getSorted(col.column)">{{col.display_name}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr dir-paginate="(rowKey, role) in reportDetails.currentPageData | itemsPerPage:reportParams.itemsPerPage" total-items="reportParams.total_count" pagination-id="noPrint" current-page="reportParams.pageNo" >
                        <td ng-repeat ="(columnKey, col) in reportDetails.columns">
                            <p class="report-content">{{role.detail[col.column]}}</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div ng-include="'partials/reports/footer.html'"></div>
    </div>
</div>

<div ng-if="showPrint" ng-include="'partials/reports/printReport.html'"></div>